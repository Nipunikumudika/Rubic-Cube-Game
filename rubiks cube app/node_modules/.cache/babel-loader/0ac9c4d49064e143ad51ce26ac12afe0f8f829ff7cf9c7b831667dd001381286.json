{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\React rubik cube app\\\\Rubic-Cube-Game\\\\rubiks cube app\\\\src\\\\RubiksCubeModel.js\",\n  _s = $RefreshSig$();\n// import React, { useRef, useEffect, useState } from \"react\";\n// // import { OrbitControls } from \"@react-three/drei\";\n// import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n// import { Canvas, useThree } from \"react-three-fiber\";\n// import * as THREE from \"three\";\n// import { CameraControls } from \"@react-three/drei\";\n\n// const RubiksCubeModel = ({ nodesSubset }) => {\n\n//   const cubeRefs = useRef([]);\n//   const startYRef = useRef(0);\n//   const initialRotation = [Math.PI / 6, Math.PI / 4, 0];\n//   const groupRef = useRef();\n//   const [lockOrbitControls, setLockOrbitControls] = useState(true);\n// let a=1;\n//   let controls;\n//   const { camera, gl } = useThree();\n//   const CameraController = () => {\n\n//     useEffect(\n//       () => {\n//         controls = new OrbitControls(camera, gl.domElement,lockOrbitControls);\n//         if(a==0){\n//           controls.enabled=false;\n//           console.log(\"okkkkkkkkkkkkkk\");\n//         }\n//         controls.minDistance = 3;\n//         controls.maxDistance = 20;\n//         return () => {\n//           controls.dispose();\n//         };\n//       },\n//       [camera, gl,lockOrbitControls]\n//     );\n//     return null;\n//   };\n\n//   const handlePointerDown = (event) => {\n//     if (controls) {\n//       controls.enabled = false;\n//       controls.dispose();\n//       controls.update();\n//     }\n\n//     console.log(\"down\");\n//     startYRef.current = event.clientY;\n//     if (event.target.tagName === \"CANVAS\") {\n//       console.log(\"outside true\");\n//     } else {\n//       console.log(\"inside false\");\n//     }\n\n//     window.addEventListener(\"pointermove\", handlePointerMove);\n//     window.addEventListener(\"pointerup\", handlePointerUp);\n//     event.stopPropagation();\n//   };\n\n//   let deltaY;\n\n//   const handlePointerMove = (event) => {\n//     console.log(\"move\");\n//     const startY = startYRef.current;\n//     if (startY !== null) {\n//       deltaY = event.clientY - startY;\n//     }\n//   };\n\n//   let targetRot = 0;\n\n//   const handlePointerUp = async () => {\n//     console.log(\"up\");\n//     window.removeEventListener(\"pointermove\", handlePointerMove);\n//     window.removeEventListener(\"pointerup\", handlePointerUp);\n//     if (deltaY > 0) {\n//       cubeRefs.current.forEach((cubeRef, index) => {\n//         targetRot = cubeRef.current.rotation.z + Math.PI / 2;\n//       });\n\n//       DraggingDown();\n//       // controls.enableRotate = true;\n//       deltaY = 0;\n//     } else if (deltaY < 0) {\n//       cubeRefs.current.forEach((cubeRef, index) => {\n//         targetRot = cubeRef.current.rotation.z - Math.PI / 2;\n//         console.log(cubeRef.current.rotation.z);\n//       });\n\n//       DraggingUp();\n//       // controls.enableRotate = true;\n//       deltaY = 0;\n//     }\n//   };\n\n//   const DraggingDown = async () => {\n//     cubeRefs.current.forEach(async (cubeRef, index) => {\n//       while (Math.abs(cubeRef.current.rotation.z - targetRot) >= 0.001) {\n//         cubeRef.current.rotation.z += Math.PI / 10;\n//         await new Promise((resolve) => requestAnimationFrame(resolve));\n//         await new Promise((resolve) => setTimeout(resolve, 1));\n//       }\n//     });\n//   };\n\n//   const DraggingUp = async () => {\n//     cubeRefs.current.forEach(async (cubeRef, index) => {\n//       while (Math.abs(cubeRef.current.rotation.z - targetRot) >= 0.001) {\n//         cubeRef.current.rotation.z -= Math.PI / 10;\n//         await new Promise((resolve) => requestAnimationFrame(resolve));\n//         await new Promise((resolve) => setTimeout(resolve, 1));\n//       }\n//     });\n//   };\n\n//   return (\n//     <>\n\n//       <group\n//         ref={groupRef}\n//         scale={[0.3, 0.3, 0.3]}\n//         rotation={initialRotation}\n//         onPointerDown={handlePointerDown}\n//       >\n//         {nodesSubset.map((node, index) => (\n//           <primitive\n//             key={index}\n//             object={node}\n//             ref={(ref) => (cubeRefs.current[index] = { current: ref })}\n//           />\n//         ))}\n//       </group>\n//       <CameraController />\n//     </>\n//   );\n// };\n\n// export default RubiksCubeModel;\n\nimport React, { useEffect, useRef } from 'react';\nimport { Canvas } from 'react-three-fiber';\nimport { OrbitControls, PerspectiveCamera } from '@react-three/drei';\nimport * as THREE from 'three';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RubiksCubeModel = () => {\n  _s();\n  const scene = useRef();\n  const pivot = useRef();\n  const cubes = [];\n  const cubesColors = [[[[0x000000, 0xffd500, 0x000000, 0x0045ad, 0x000000, 0x009b48], [0x000000, 0xffd500, 0x000000, 0x0045ad, 0x000000, 0x000000], [0x000000, 0xffd500, 0x000000, 0x0045ad, 0xff5900, 0x000000]], [[0x000000, 0xffd500, 0x000000, 0x000000, 0x000000, 0x009b48], [0x000000, 0xffd500, 0x000000, 0x000000, 0x000000, 0x000000], [0x000000, 0xffd500, 0x000000, 0x000000, 0xff5900, 0x000000]], [[0x000000, 0xffd500, 0xb90000, 0x000000, 0x000000, 0x009b48], [0x000000, 0xffd500, 0xb90000, 0x000000, 0x000000, 0x000000], [0x000000, 0xffd500, 0xb90000, 0x000000, 0xff5900, 0x000000]]], [[[0x000000, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x009b48], [0x000000, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x000000], [0x000000, 0x000000, 0x000000, 0x0045ad, 0xff5900, 0x000000]], [[0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x009b48], [0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000], [0x000000, 0x000000, 0x000000, 0x000000, 0xff5900, 0x000000]], [[0x000000, 0x000000, 0xb90000, 0x000000, 0x000000, 0x009b48], [0x000000, 0x000000, 0xb90000, 0x000000, 0x000000, 0x000000], [0x000000, 0x000000, 0xb90000, 0x000000, 0xff5900, 0x000000]]], [[[0xffffff, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x009b48], [0xffffff, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x000000], [0xffffff, 0x000000, 0x000000, 0x0045ad, 0xff5900, 0x000000]], [[0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0x009b48], [0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000], [0xffffff, 0x000000, 0x000000, 0x000000, 0xff5900, 0x000000]], [[0xffffff, 0x000000, 0xb90000, 0x000000, 0x000000, 0x009b48], [0xffffff, 0x000000, 0xb90000, 0x000000, 0x000000, 0x000000], [0xffffff, 0x000000, 0xb90000, 0x000000, 0xff5900, 0x000000]]]];\n  const onMouseDown = event => {\n    pointer.x = event.clientX / window.innerWidth * 2 - 1;\n    pointer.y = -(event.clientY / window.innerHeight) * 2 + 1;\n    raycaster.setFromCamera(pointer, camera);\n    const intersects = raycaster.intersectObjects(cubes, false);\n    if (draggable.intersect == null) {\n      draggable.intersect = intersects[0];\n    }\n    if (intersects.length > 0) {\n      controls.enabled = false;\n      draggable.isDragging = true;\n      draggable.mouseX = event.clientX;\n      draggable.mouseY = event.clientY;\n      draggable.cube = intersects[0].object;\n      const intersectPoint = new THREE.Vector3(...intersects[0].point.toArray().map(c => +c.toFixed(3)));\n      const objPos = new THREE.Vector3(...intersects[0].object.position.toArray().map(c => +c.toFixed(3)));\n      if (intersectPoint.z == objPos.z + 1) {\n        draggable.direction = \"front\";\n      } else if (intersectPoint.y == objPos.y + 1) {\n        draggable.direction = \"top\";\n      } else if (intersectPoint.x == objPos.x + 1) {\n        draggable.direction = \"side\";\n      }\n    } else if (!controls.enabled) {\n      pan.isPanning = true;\n      pan.mouseX = event.clientX;\n      pan.mouseY = event.clientY;\n    }\n  };\n  const onMouseUp = () => {\n    draggable.isDragging = false;\n    pan.isPanning = false;\n  };\n  const onMouseMove = event => {\n    if (draggable.isDragging) {\n      if (event.clientY > draggable.mouseY + 50 || event.clientY < draggable.mouseY - 50) {\n        if (draggable.direction == \"side\") {\n          doRotation(\"z\", Math.sign(event.clientY - draggable.mouseY) * -1, draggable.cube);\n          draggable.isDragging = false;\n        } else if (draggable.direction == \"front\") {\n          doRotation(\"x\", Math.sign(event.clientY - draggable.mouseY), draggable.cube);\n          draggable.isDragging = false;\n        }\n      } else if (event.clientX > draggable.mouseX + 20 && event.clientY < draggable.mouseY - 20 || event.clientX < draggable.mouseX - 20 && event.clientY > draggable.mouseY + 20) {\n        if (draggable.direction == \"top\") {\n          doRotation(\"x\", Math.sign(event.clientX - draggable.mouseX) * -1, draggable.cube);\n          draggable.isDragging = false;\n        } else {\n          doRotation(\"y\", Math.sign(event.clientX - draggable.mouseX), draggable.cube);\n          draggable.isDragging = false;\n        }\n      } else if (event.clientX < draggable.mouseX - 20 && event.clientY < draggable.mouseY - 20 || event.clientX > draggable.mouseX + 20 && event.clientY > draggable.mouseY + 20) {\n        if (draggable.direction == \"top\") {\n          doRotation(\"z\", Math.sign(event.clientX - draggable.mouseX) * -1, draggable.cube);\n          draggable.isDragging = false;\n        } else {\n          doRotation(\"y\", Math.sign(event.clientY - draggable.mouseY), draggable.cube);\n          draggable.isDragging = false;\n        }\n      }\n    } else if (pan.isPanning) {\n      if (event.clientX > pan.mouseX + 20 || event.clientX < pan.mouseX - 20) {\n        for (let i = 0; i < 27; i++) {\n          pivot.attach(cubes[i]);\n        }\n        rotateOnAxis(\"y\", Math.sign(event.clientX - pan.mouseX));\n        pan.isPanning = false;\n      } else if (event.clientY > pan.mouseY + 20 || event.clientY < pan.mouseY - 20) {\n        for (let i = 0; i < 27; i++) {\n          pivot.attach(cubes[i]);\n        }\n        if (event.clientX > window.innerWidth / 2) {\n          rotateOnAxis(\"z\", Math.sign(event.clientY - pan.mouseY) * -1);\n        } else {\n          rotateOnAxis(\"x\", Math.sign(event.clientY - pan.mouseY));\n        }\n        pan.isPanning = false;\n      }\n    }\n  };\n  const createCubes = () => {\n    let cubeIndex = 0;\n    const geometry = new THREE.BoxGeometry(2, 2, 2);\n    function getMaterial(colors) {\n      const mat = [];\n      for (let i = 0; i < 6; i++) {\n        mat[i] = new THREE.MeshStandardMaterial({\n          color: colors[i]\n        });\n      }\n      return mat;\n    }\n    for (let x = -1; x <= 1; x += 1) {\n      for (let y = -1; y <= 1; y += 1) {\n        for (let z = -1; z <= 1; z += 1) {\n          const mat = getMaterial(cubesColors[x + 1][y + 1][z + 1]);\n          const cube = new THREE.Mesh(geometry, mat);\n          cube.position.set(x * 2.1, y * 2.1, z * 2.1);\n          cube.userData.index = cubeIndex;\n          cubeIndex++;\n          cubes.push(cube);\n          scene.add(cube);\n        }\n      }\n    }\n  };\n  const doRotation = (axis, direction, cube) => {\n    for (let i = 0; i < 27; i++) {\n      if (Math.abs(cubes[i].position[axis] - cube.position[axis]) < 1) {\n        pivot.attach(cubes[i]);\n      }\n    }\n    rotateOnAxis(axis, direction);\n  };\n  const rotateOnAxis = (axis, direction, angle = Math.PI / 2, done = 0) => {\n    if (done >= angle) {\n      let len = pivot.children.length;\n      for (let i = 0; i < len; i++) {\n        scene.attach(pivot.children[0]);\n      }\n      pivot.rotation.set(0, 0, 0);\n      return;\n    }\n    done += radStep;\n    switch (axis) {\n      case \"x\":\n        {\n          pivot.rotateX(radStep * direction);\n          break;\n        }\n      case \"y\":\n        {\n          pivot.rotateY(radStep * direction);\n          break;\n        }\n      case \"z\":\n        {\n          pivot.rotateZ(radStep * direction);\n          break;\n        }\n    }\n    requestAnimationFrame(() => rotateOnAxis(axis, direction, angle, done));\n  };\n  useEffect(() => {\n    createCubes();\n    window.addEventListener('pointerdown', onMouseDown);\n    window.addEventListener('pointermove', onMouseMove);\n    window.addEventListener('pointerup', onMouseUp);\n    return () => {\n      window.removeEventListener('pointerdown', onMouseDown);\n      window.removeEventListener('pointermove', onMouseMove);\n      window.removeEventListener('pointerup', onMouseUp);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [10, 8, 10],\n      fov: 75,\n      near: 0.1,\n      far: 1000\n    },\n    onCreated: ({\n      gl\n    }) => {\n      gl.setSize(window.innerWidth, window.innerHeight);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      color: 0xffffff,\n      intensity: 0.69\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [1.5, 5, 3],\n      color: 0xffffff,\n      intensity: 0.36\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [-1.5, -5, -3],\n      color: 0xffffff,\n      intensity: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PerspectiveCamera, {\n      makeDefault: true,\n      position: [10, 8, 10],\n      fov: 75,\n      near: 0.1,\n      far: 1000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: pivot\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), cubes.map((cube, index) => /*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: cube.ref,\n      position: cube.position,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [2, 2, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this), cube.materials.map((color, i) => /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: color\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 13\n      }, this))]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(OrbitControls, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 392,\n    columnNumber: 5\n  }, this);\n};\n_s(RubiksCubeModel, \"Rc5bG4QID8SVhEQkPTJZa5TJ+Y8=\");\n_c = RubiksCubeModel;\nexport default RubiksCubeModel;\nvar _c;\n$RefreshReg$(_c, \"RubiksCubeModel\");","map":{"version":3,"names":["React","useEffect","useRef","Canvas","OrbitControls","PerspectiveCamera","THREE","jsxDEV","_jsxDEV","RubiksCubeModel","_s","scene","pivot","cubes","cubesColors","onMouseDown","event","pointer","x","clientX","window","innerWidth","y","clientY","innerHeight","raycaster","setFromCamera","camera","intersects","intersectObjects","draggable","intersect","length","controls","enabled","isDragging","mouseX","mouseY","cube","object","intersectPoint","Vector3","point","toArray","map","c","toFixed","objPos","position","z","direction","pan","isPanning","onMouseUp","onMouseMove","doRotation","Math","sign","i","attach","rotateOnAxis","createCubes","cubeIndex","geometry","BoxGeometry","getMaterial","colors","mat","MeshStandardMaterial","color","Mesh","set","userData","index","push","add","axis","abs","angle","PI","done","len","children","rotation","radStep","rotateX","rotateY","rotateZ","requestAnimationFrame","addEventListener","removeEventListener","fov","near","far","onCreated","gl","setSize","intensity","fileName","_jsxFileName","lineNumber","columnNumber","makeDefault","ref","args","materials","_c","$RefreshReg$"],"sources":["E:/projects/React rubik cube app/Rubic-Cube-Game/rubiks cube app/src/RubiksCubeModel.js"],"sourcesContent":["// import React, { useRef, useEffect, useState } from \"react\";\r\n// // import { OrbitControls } from \"@react-three/drei\";\r\n// import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n// import { Canvas, useThree } from \"react-three-fiber\";\r\n// import * as THREE from \"three\";\r\n// import { CameraControls } from \"@react-three/drei\";\r\n\r\n// const RubiksCubeModel = ({ nodesSubset }) => {\r\n\r\n//   const cubeRefs = useRef([]);\r\n//   const startYRef = useRef(0);\r\n//   const initialRotation = [Math.PI / 6, Math.PI / 4, 0];\r\n//   const groupRef = useRef();\r\n//   const [lockOrbitControls, setLockOrbitControls] = useState(true);\r\n// let a=1;\r\n//   let controls;\r\n//   const { camera, gl } = useThree();\r\n//   const CameraController = () => {\r\n  \r\n    \r\n//     useEffect(\r\n//       () => {\r\n//         controls = new OrbitControls(camera, gl.domElement,lockOrbitControls);\r\n//         if(a==0){\r\n//           controls.enabled=false;\r\n//           console.log(\"okkkkkkkkkkkkkk\");\r\n//         }\r\n//         controls.minDistance = 3;\r\n//         controls.maxDistance = 20;\r\n//         return () => {\r\n//           controls.dispose();\r\n//         };\r\n//       },\r\n//       [camera, gl,lockOrbitControls]\r\n//     );\r\n//     return null;\r\n//   };\r\n\r\n//   const handlePointerDown = (event) => {\r\n//     if (controls) {\r\n//       controls.enabled = false;\r\n//       controls.dispose();\r\n//       controls.update();\r\n//     }\r\n\r\n \r\n//     console.log(\"down\");\r\n//     startYRef.current = event.clientY;\r\n//     if (event.target.tagName === \"CANVAS\") {\r\n//       console.log(\"outside true\");\r\n//     } else {\r\n//       console.log(\"inside false\");\r\n//     }\r\n\r\n//     window.addEventListener(\"pointermove\", handlePointerMove);\r\n//     window.addEventListener(\"pointerup\", handlePointerUp);\r\n//     event.stopPropagation();\r\n//   };\r\n\r\n//   let deltaY;\r\n\r\n//   const handlePointerMove = (event) => {\r\n//     console.log(\"move\");\r\n//     const startY = startYRef.current;\r\n//     if (startY !== null) {\r\n//       deltaY = event.clientY - startY;\r\n//     }\r\n//   };\r\n\r\n//   let targetRot = 0;\r\n\r\n//   const handlePointerUp = async () => {\r\n//     console.log(\"up\");\r\n//     window.removeEventListener(\"pointermove\", handlePointerMove);\r\n//     window.removeEventListener(\"pointerup\", handlePointerUp);\r\n//     if (deltaY > 0) {\r\n//       cubeRefs.current.forEach((cubeRef, index) => {\r\n//         targetRot = cubeRef.current.rotation.z + Math.PI / 2;\r\n//       });\r\n\r\n//       DraggingDown();\r\n//       // controls.enableRotate = true;\r\n//       deltaY = 0;\r\n//     } else if (deltaY < 0) {\r\n//       cubeRefs.current.forEach((cubeRef, index) => {\r\n//         targetRot = cubeRef.current.rotation.z - Math.PI / 2;\r\n//         console.log(cubeRef.current.rotation.z);\r\n//       });\r\n\r\n//       DraggingUp();\r\n//       // controls.enableRotate = true;\r\n//       deltaY = 0;\r\n//     }\r\n//   };\r\n\r\n//   const DraggingDown = async () => {\r\n//     cubeRefs.current.forEach(async (cubeRef, index) => {\r\n//       while (Math.abs(cubeRef.current.rotation.z - targetRot) >= 0.001) {\r\n//         cubeRef.current.rotation.z += Math.PI / 10;\r\n//         await new Promise((resolve) => requestAnimationFrame(resolve));\r\n//         await new Promise((resolve) => setTimeout(resolve, 1));\r\n//       }\r\n//     });\r\n//   };\r\n\r\n//   const DraggingUp = async () => {\r\n//     cubeRefs.current.forEach(async (cubeRef, index) => {\r\n//       while (Math.abs(cubeRef.current.rotation.z - targetRot) >= 0.001) {\r\n//         cubeRef.current.rotation.z -= Math.PI / 10;\r\n//         await new Promise((resolve) => requestAnimationFrame(resolve));\r\n//         await new Promise((resolve) => setTimeout(resolve, 1));\r\n//       }\r\n//     });\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n\r\n//       <group\r\n//         ref={groupRef}\r\n//         scale={[0.3, 0.3, 0.3]}\r\n//         rotation={initialRotation}\r\n//         onPointerDown={handlePointerDown}\r\n//       >\r\n//         {nodesSubset.map((node, index) => (\r\n//           <primitive\r\n//             key={index}\r\n//             object={node}\r\n//             ref={(ref) => (cubeRefs.current[index] = { current: ref })}\r\n//           />\r\n//         ))}\r\n//       </group>\r\n//       <CameraController />\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default RubiksCubeModel;\r\n\r\n\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { Canvas } from 'react-three-fiber';\r\nimport { OrbitControls, PerspectiveCamera } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\n\r\nconst RubiksCubeModel = () => {\r\n  const scene = useRef();\r\n  const pivot = useRef();\r\n  const cubes = [];\r\n\r\n  const cubesColors = [\r\n    [\r\n        [\r\n            [ 0x000000, 0xffd500, 0x000000, 0x0045ad, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0xffd500, 0x000000, 0x0045ad, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0xffd500, 0x000000, 0x0045ad, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0x000000, 0xffd500, 0x000000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0xffd500, 0x000000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0xffd500, 0x000000, 0x000000, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0x000000, 0xffd500, 0xb90000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0xffd500, 0xb90000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0xffd500, 0xb90000, 0x000000, 0xff5900, 0x000000 ],\r\n        ]\r\n    ],\r\n    [\r\n        [\r\n            [ 0x000000, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0x000000, 0x000000, 0x0045ad, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0x000000, 0x000000, 0x000000, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0x000000, 0x000000, 0xb90000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0x000000, 0x000000, 0xb90000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0x000000, 0x000000, 0xb90000, 0x000000, 0xff5900, 0x000000 ],\r\n        ]\r\n    ],\r\n    [\r\n        [\r\n            [ 0xffffff, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x009b48 ],\r\n            [ 0xffffff, 0x000000, 0x000000, 0x0045ad, 0x000000, 0x000000 ],\r\n            [ 0xffffff, 0x000000, 0x000000, 0x0045ad, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0xffffff, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0xffffff, 0x000000, 0x000000, 0x000000, 0xff5900, 0x000000 ],\r\n        ],\r\n        [\r\n            [ 0xffffff, 0x000000, 0xb90000, 0x000000, 0x000000, 0x009b48 ],\r\n            [ 0xffffff, 0x000000, 0xb90000, 0x000000, 0x000000, 0x000000 ],\r\n            [ 0xffffff, 0x000000, 0xb90000, 0x000000, 0xff5900, 0x000000 ],\r\n        ]\r\n    ],\r\n];\r\n\r\n  const onMouseDown = (event) => {\r\n    pointer.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n    pointer.y = - (event.clientY / window.innerHeight) * 2 + 1;\r\n\r\n    raycaster.setFromCamera(pointer, camera);\r\n\r\n    const intersects = raycaster.intersectObjects(cubes, false);\r\n\r\n    if (draggable.intersect == null) {\r\n        draggable.intersect = intersects[0];\r\n    }\r\n\r\n    if (intersects.length > 0) {\r\n        controls.enabled = false;\r\n\r\n        draggable.isDragging = true;\r\n        draggable.mouseX = event.clientX;\r\n        draggable.mouseY = event.clientY;\r\n\r\n        draggable.cube = intersects[0].object;\r\n\r\n        const intersectPoint = new THREE.Vector3(...intersects[0].point.toArray().map(c => +(c.toFixed(3))));\r\n        const objPos = new THREE.Vector3(...intersects[0].object.position.toArray().map(c => +(c.toFixed(3))));\r\n\r\n        if (intersectPoint.z == objPos.z + 1) {\r\n            draggable.direction = \"front\";\r\n        }\r\n        else if (intersectPoint.y == objPos.y + 1) {\r\n            draggable.direction = \"top\";\r\n        }\r\n        else if (intersectPoint.x == objPos.x + 1) {\r\n            draggable.direction = \"side\";\r\n        }\r\n    }\r\n    else if(!controls.enabled){\r\n        pan.isPanning = true;\r\n        pan.mouseX = event.clientX;\r\n        pan.mouseY = event.clientY;\r\n    }\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    draggable.isDragging = false;\r\n    pan.isPanning = false;\r\n  };\r\n\r\n  const onMouseMove = (event) => {\r\n    if (draggable.isDragging) {\r\n      if (event.clientY > draggable.mouseY + 50 || event.clientY < draggable.mouseY - 50) {\r\n          if (draggable.direction == \"side\") {\r\n              doRotation(\"z\", Math.sign(event.clientY - draggable.mouseY) * -1, draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n          else if (draggable.direction == \"front\") {\r\n              doRotation(\"x\", Math.sign(event.clientY - draggable.mouseY), draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n      }\r\n      else if ((event.clientX > draggable.mouseX + 20 && event.clientY < draggable.mouseY - 20) ||\r\n               (event.clientX < draggable.mouseX - 20 && event.clientY > draggable.mouseY + 20)) {\r\n          if (draggable.direction == \"top\") {\r\n              doRotation(\"x\", Math.sign(event.clientX - draggable.mouseX) * -1, draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n          else {\r\n              doRotation(\"y\", Math.sign(event.clientX - draggable.mouseX), draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n      }\r\n      else if ((event.clientX < draggable.mouseX - 20 && event.clientY < draggable.mouseY - 20) ||\r\n               (event.clientX > draggable.mouseX + 20 && event.clientY > draggable.mouseY + 20)) {\r\n          if (draggable.direction == \"top\") {\r\n              doRotation(\"z\", Math.sign(event.clientX - draggable.mouseX) * -1, draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n          else {\r\n              doRotation(\"y\", Math.sign(event.clientY - draggable.mouseY), draggable.cube);\r\n              draggable.isDragging = false;\r\n          }\r\n      }\r\n  }\r\n  else if(pan.isPanning) {\r\n      if(event.clientX > pan.mouseX + 20 || event.clientX < pan.mouseX - 20) {\r\n          for(let i = 0; i < 27; i++) {\r\n              pivot.attach(cubes[i]);\r\n          }\r\n\r\n          rotateOnAxis(\"y\", Math.sign(event.clientX - pan.mouseX));\r\n\r\n          pan.isPanning = false;\r\n      }\r\n      else if(event.clientY > pan.mouseY + 20 || event.clientY < pan.mouseY - 20) {\r\n          for(let i = 0; i < 27; i++) {\r\n              pivot.attach(cubes[i]);\r\n          }\r\n\r\n          if(event.clientX > window.innerWidth / 2) {\r\n              rotateOnAxis(\"z\", Math.sign(event.clientY - pan.mouseY) * -1); \r\n          } \r\n          else {\r\n              rotateOnAxis(\"x\", Math.sign(event.clientY - pan.mouseY));\r\n          }\r\n\r\n          pan.isPanning = false;\r\n      }\r\n  }\r\n  };\r\n\r\n  const createCubes = () => {\r\n    let cubeIndex = 0;\r\n\r\n    const geometry = new THREE.BoxGeometry(2, 2, 2);\r\n\r\n    function getMaterial(colors) {\r\n        const mat = [];\r\n        for(let i = 0; i < 6; i++) {\r\n            mat[i] = new THREE.MeshStandardMaterial({color: colors[i]});\r\n        }\r\n        return mat;\r\n    }\r\n\r\n    for (let x = -1; x <= 1; x += 1) {\r\n        for (let y = -1; y <= 1; y += 1) {\r\n            for (let z = -1; z <= 1; z += 1) {                \r\n                const mat = getMaterial(cubesColors[x + 1][y + 1][z + 1]);\r\n                const cube = new THREE.Mesh(geometry, mat);\r\n                \r\n                cube.position.set(x * 2.1, y * 2.1, z * 2.1);\r\n                cube.userData.index = cubeIndex;\r\n                cubeIndex++;\r\n\r\n                cubes.push(cube);\r\n                scene.add(cube);\r\n            }\r\n        }\r\n    }\r\n  };\r\n\r\n  const doRotation = (axis, direction, cube) => {\r\n    for(let i = 0; i < 27; i++) {\r\n      if(Math.abs(cubes[i].position[axis] - cube.position[axis]) < 1) {\r\n          pivot.attach(cubes[i]);\r\n      }\r\n  }\r\n\r\n  rotateOnAxis(axis, direction);\r\n  };\r\n\r\n  const rotateOnAxis = (axis, direction, angle = Math.PI / 2, done = 0) => {\r\n    if (done >= angle) {\r\n      let len = pivot.children.length;\r\n      for (let i = 0; i < len; i++) {\r\n          scene.attach(pivot.children[0]);\r\n      }\r\n\r\n      pivot.rotation.set(0, 0, 0);\r\n\r\n      return;\r\n  }\r\n\r\n  done += radStep;\r\n\r\n  switch (axis) {\r\n      case \"x\": { pivot.rotateX(radStep * direction); break; }\r\n      case \"y\": { pivot.rotateY(radStep * direction); break; }\r\n      case \"z\": { pivot.rotateZ(radStep * direction); break; }\r\n  }\r\n\r\n  requestAnimationFrame(() => rotateOnAxis(axis, direction, angle, done));\r\n  };\r\n\r\n  useEffect(() => {\r\n    createCubes();\r\n\r\n    window.addEventListener('pointerdown', onMouseDown);\r\n    window.addEventListener('pointermove', onMouseMove);\r\n    window.addEventListener('pointerup', onMouseUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('pointerdown', onMouseDown);\r\n      window.removeEventListener('pointermove', onMouseMove);\r\n      window.removeEventListener('pointerup', onMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Canvas\r\n      camera={{ position: [10, 8, 10], fov: 75, near: 0.1, far: 1000 }}\r\n      onCreated={({ gl }) => {\r\n        gl.setSize(window.innerWidth, window.innerHeight);\r\n      }}\r\n    >\r\n      <ambientLight color={0xffffff} intensity={0.69} />\r\n      <directionalLight position={[1.5, 5, 3]} color={0xffffff} intensity={0.36} />\r\n      <directionalLight position={[-1.5, -5, -3]} color={0xffffff} intensity={0} />\r\n\r\n      <PerspectiveCamera makeDefault position={[10, 8, 10]} fov={75} near={0.1} far={1000} />\r\n\r\n      <group ref={pivot} />\r\n\r\n      {/* Your cubes rendering logic here */}\r\n      {cubes.map((cube, index) => (\r\n        <mesh key={index} ref={cube.ref} position={cube.position}>\r\n          <boxGeometry args={[2, 2, 2]} />\r\n          {cube.materials.map((color, i) => (\r\n            <meshStandardMaterial key={i} color={color} />\r\n          ))}\r\n        </mesh>\r\n      ))}\r\n\r\n      <OrbitControls />\r\n    </Canvas>\r\n  );\r\n};\r\n\r\nexport default RubiksCubeModel;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,aAAa,EAAEC,iBAAiB,QAAQ,mBAAmB;AACpE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,KAAK,GAAGT,MAAM,CAAC,CAAC;EACtB,MAAMU,KAAK,GAAGV,MAAM,CAAC,CAAC;EACtB,MAAMW,KAAK,GAAG,EAAE;EAEhB,MAAMC,WAAW,GAAG,CAClB,CACI,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,EACD,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,EACD,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,CACJ,EACD,CACI,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,EACD,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,EACD,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAC9D,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE,CACjE,CACJ,EACD,CACI,CACI,CAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAE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"},"metadata":{},"sourceType":"module","externalDependencies":[]}