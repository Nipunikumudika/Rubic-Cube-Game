{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useRef, useState, useMemo, useEffect } from 'react';\nimport { useFrame } from 'react-three-fiber';\nimport { AnimationMixer } from 'three';\nfunction useAnimations(clips, root) {\n  const ref = useRef();\n  const actualRef = root ? root : ref;\n  const [mixer] = useState(() => new AnimationMixer(undefined));\n  const api = useMemo(() => ({\n    ref: actualRef,\n    clips,\n    actions: clips.reduce((prev, clip) => _extends({}, prev, {\n      [clip.name]: null\n    }), {}),\n    names: clips.map(clip => clip.name),\n    mixer\n  }), [clips, mixer, actualRef]);\n  useFrame((state, delta) => mixer.update(delta));\n  useEffect(() => {\n    const currentRoot = actualRef.current;\n    clips.forEach(clip => api.actions[clip.name] = mixer.clipAction(clip, currentRoot));\n    return () => Object.values(api.actions).forEach(action => mixer.uncacheAction(action, currentRoot));\n  }, [api, clips, mixer, root, actualRef]);\n  return api;\n}\nexport { useAnimations };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}